#!/bin/bash
echo "üìä ANALYSE DU FLUX D'EXTRACTION:"
echo ""
echo "1. MainActivity - startVoiceServices() est appel√© √† CHAQUE onCreate()"
echo "2. ModelDownloadService - extractVoskModels() v√©rifie isModelExtracted()"
echo "3. SI isModelExtracted() = TRUE ‚Üí extraction saut√©e"
echo "4. MAIS le broadcast est envoy√© QUAND M√äME ?"
echo ""
echo "üîç REGARDEZ ModelDownloadService.kt:"
echo "   - La m√©thode extractVoskModels() retourne 'allSuccess'"
echo "   - Si mod√®les d√©j√† extraits, allSuccess = true"
echo "   - Donc broadcast SUCCESS envoy√© m√™me sans extraction"
echo ""
echo "üéØ PROBL√àME IDENTIFI√â:"
echo "   Le service envoie 'success=true' m√™me quand l'extraction √©tait d√©j√† faite"
echo "   Ce qui d√©clenche le popup √† chaque fois"
